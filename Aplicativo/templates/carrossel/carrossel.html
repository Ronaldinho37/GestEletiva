{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Definir Carrossel</title>
    <link rel="stylesheet" href="{% static 'css/Caro_Add.css' %}">
</head>
<body>

<div class="container">
    <h1 class="title">ATUALIZAR CARROSSEL</h1>

    <div class="align">
        <form action="" method="post" enctype="multipart/form-data" onsubmit="return validarFormCarrossel()">
            {% csrf_token %}
            <label for="">Nome do professor:</label>
            <input type="text" id="nome" name="nome" value="{{nome}}" required placeholder="Título">
            <label for="">Idade:</label>
            <input type="number" id="idade" name="idade" value="{{idade}}" min="18" max="99" required placeholder="Idade">
            <label for="">Graduação:</label>
            <input type="text" id="graduacao" name="graduacao" value="{{graduacao}}" required placeholder="Graduação">
            <label for="">Descrição:</label>
            <textarea name="descricao" id="descricao" maxlength="200"style="resize:none" required placeholder="Descrição"></textarea>
            
            {% if modo == 'atualizar' %}
                <img src="../../../media/{{imagem}}" alt="Imagem atual"> <br>
                <input type="checkbox" name="deixar_sem_imagem"> Deixar sem imagem
                <input type="file" id="imagem" name="imagem">
            {% else %}
                <input type="file" id="imagem" name="imagem" required>
            {% endif %}

            <input type="submit" value="Enviar">
        </form>

        <div class="explanation">
            <img src="../.././../media/img_fixas/logo-asn.png" alt="Logo">
            <p>Nesta área você poderá adicionar novos oferecimentos na página inicial do site, podendo definir: Uma imagem a ser apresentada, um título pequeno, uma mini descrição sobre seu oferecimento e disponibilizar o link para levar o usuário ao site desejado.</p>
            <a href="{% url 'index'%}" style="padding: 10px; background-color:cornflowerblue; text-decoration:none; border-radius:10px; color:#fafafa">Voltar</a>
        </div>
    </div>
</div>

    <script src="{% static 'js/acoes_tabela.js' %}"></script>
    <script src="{% static 'js/acao_tabela_pesquisar.js' %}"></script>
    <script>
        function validarFormCarrossel() {
            let ids = String(document.querySelector('input[name="ids"]').value).split(',')
            if(ids.length === 3) {
                return true;
            }
            document.querySelector('h3[id="selecione"]').style.color = "red";
            return false;
        }
    </script>
</body>
</html>
